<div data-controller="hex">
  <svg viewBox="0 0 100 100" class="board">
    <defs>
      <g id="hex">
        <polygon stroke="#000000" stroke-width="0.5" points="5, -9 -5,-9 -10, 0 -5, 9 5, 9 10, 0" />
      </g>
    </defs>

    <g class="hex-wrap">
      <% @game.grid_enumerator do |h| %>
        <use href="#hex" transform="translate(<%=h.x%>,<%=h.y%>)" class="<%= h.type %>" /> 
        <% if h.built %>
          <rect x="<%=h.x%>" y="<%=h.y%>" width=3 height=3 fill="violet" />
        <% end %>
        <text class="cost" x="<%=h.x-5 %>" y="<%=h.y-4%>">-<%= h.build_cost %></text>
      <% end %> 
    </g>
  </svg>
</div>
