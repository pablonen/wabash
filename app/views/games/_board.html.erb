<div data-controller="hex">
  <svg viewBox="0 0 450 300" class="board">
    <defs>
      <g id="hex">
        <polygon points="5, -9 -5,-9 -10, 0 -5, 9 5, 9 10, 0" />
      </g>
    </defs>
    <g class="hex-wrap">
      <% @game.grid_enumerator do |h| %>
        <use href="#hex" transform="translate(<%=h.x%>,<%=h.y%>)" class="<%= h.type %>" /> 
        <% if h.built %>
          <% h.built.each_with_index do |color, i| %>
            <rect x="<%=(h.x-7) + i*4 %>" y="<%=h.y-2%>" width=3 height=3 fill="<%= color %>" />
          <% end %>
        <% end %>
        <text class="cost" x="<%=h.x-5 %>" y="<%=h.y-4%>">-<%= h.build_cost %></text>
      <% end %> 
    </g>
  </svg>
</div>
